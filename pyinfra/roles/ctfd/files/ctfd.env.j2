# Replacement for the in-tree config.ini file
# Loaded into the app environment via the systemd service

# Secret key for session signing (derived from hostkey)
SECRET_KEY={{ ctfd_secret_key }}

# Disable useless update check
UPDATE_CHECK=False

# Tell CTFd which "X-Forwarded-" headers it can trust (see https://docs.ctfd.io/docs/deployment/configuration#reverse_proxy)
REVERSE_PROXY=1,1,1,0,0

# Connect to MariaDB via Unix socket, authenticate with password
DATABASE_URL="mysql+pymysql://ctfd:{{ ctfd_mariadb_pwd }}@localhost/ctfd?unix_socket=/run/mariadb/mariadb.sock"

# Connect to Redis via Unix socket, authenticate with password
REDIS_URL="unix://ctfd:{{ ctfd_redis_pwd }}@/run/redis/redis.sock"

# Store app logs persistently (includes submissions, registrations, logins)
LOG_FOLDER=/persist/ctfd/logs

# Store uploads persistently
UPLOAD_FOLDER=/persist/ctfd/uploads

# Configure email server (TODO)
